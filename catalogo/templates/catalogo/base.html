{% load static %}
<!doctype html>
<html lang="es" class="h-full">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}Fruter√≠a{% endblock %}</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: { 600: '#4f46e5', 700: '#4338ca' },
          }
        }
      }
    }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; }
  </style>
</head>

<body class="min-h-screen bg-gradient-to-b from-indigo-50 to-white text-gray-800 flex flex-col">
  <!-- üîπ Navbar -->
  <header class="bg-white/80 backdrop-blur border-b border-indigo-100 shadow-sm">
    <div class="max-w-7xl mx-auto px-6 py-4 flex flex-wrap items-center justify-between gap-4">
      <!-- Logo -->
      <a href="{% url 'home' %}" class="flex items-center gap-3 group">
        <span class="inline-flex h-10 w-10 items-center justify-center rounded-xl bg-indigo-600 text-white text-lg font-bold shadow-sm transition-transform group-hover:scale-105">TM</span>
        <div>
          <p class="text-lg font-bold leading-tight group-hover:text-indigo-600 transition-colors">Fruter√≠a</p>
          <p class="text-xs text-gray-500 -mt-1">Las mejores frutas del mercado</p>
        </div>
      </a>

      <!-- Navegaci√≥n principal -->
      <nav class="flex flex-wrap justify-center gap-2">
        <a href="{% url 'producto_lista' %}"
           class="px-4 py-2 rounded-lg text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 transition">
          Productos
        </a>
        <a href="{% url 'cliente_lista' %}"
           class="px-4 py-2 rounded-lg text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 transition">
          Clientes
        </a>
        <a href="{% url 'detalleventa_lista' %}"
           class="px-4 py-2 rounded-lg text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 transition">
          Ventas
        </a>
      </nav>

      <!-- üîπ Botones de sesi√≥n -->
      <div class="flex flex-wrap justify-end items-center gap-3">
        {% if user.is_authenticated %}
          <span class="px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg shadow-sm">
            üëã {{ user.username }}
          </span>

          <form method="post" action="{% url 'logout' %}" class="inline">
            {% csrf_token %}
            <button type="submit"
                    class="px-4 py-2 rounded-lg text-sm font-semibold text-white bg-red-500 hover:bg-red-600 shadow-sm transition">
              Cerrar sesi√≥n
            </button>
          </form>
        {% else %}
          <a href="{% url 'register' %}"
             class="px-4 py-2 rounded-lg text-sm font-semibold text-indigo-600 border border-indigo-600 hover:bg-indigo-50 transition">
            Registrarse
          </a>
          <a href="{% url 'login' %}"
             class="px-4 py-2 rounded-lg text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 transition">
            Iniciar sesi√≥n
          </a>
        {% endif %}
      </div>
    </div>
  </header>

  <!-- üîπ Mensajes de Django -->
  <div class="max-w-6xl mx-auto px-6 mt-4 space-y-2">
    {% if messages %}
      {% for message in messages %}
        <div class="rounded-xl border p-3 text-sm
                    {% if message.tags == 'success' %} bg-green-50 border-green-200 text-green-800
                    {% elif message.tags == 'error' %} bg-red-50 border-red-200 text-red-800
                    {% elif message.tags == 'warning' %} bg-yellow-50 border-yellow-200 text-yellow-800
                    {% else %} bg-blue-50 border-blue-200 text-blue-800 {% endif %}">
          {{ message }}
        </div>
      {% endfor %}
    {% endif %}
  </div>

  <!-- üîπ Contenido din√°mico -->
  <main class="flex-1 max-w-6xl mx-auto px-6 py-8">
    {% block content %}{% endblock %}
  </main>

  <!-- üîπ Footer -->
  <footer class="border-t bg-white/70 backdrop-blur text-center py-4 text-sm text-gray-500">
    Hecho con ‚ù§Ô∏è para clase ‚Äî Django MVC + Tailwind.
  </footer>

  {% block extra_js %}{% endblock %}
</body>
</html>
